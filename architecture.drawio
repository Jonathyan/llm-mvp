<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36" version="28.0.7">
  <diagram name="Declaratie en Huur Flow LIFEHOUSE Amsterdam" id="rMSycIFzMJA7-6TDwXqn">
    <mxGraphModel dx="1242" dy="700" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="tgQPIWyc8VGFv9XbimAp-1" value="Azure Secure Chatbot Infrastructure" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="384" y="20" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-2" value="Internet" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="80" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-3" value="End User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#FFAB91;strokeColor=#BF360C;" vertex="1" parent="1">
          <mxGeometry x="450" y="90" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-4" value="Resource Group: JouwResourceGroep" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#1976D2;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;arcSize=6;" vertex="1" parent="1">
          <mxGeometry x="80" y="200" width="1000" height="580" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-5" value="Virtual Network (VNet)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#388E3C;strokeWidth=2;verticalAlign=top;fontSize=12;fontStyle=1;arcSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="240" width="620" height="380" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-6" value="Public Subnet&#xa;10.0.1.0/24" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;verticalAlign=top;fontSize=11;fontStyle=1;arcSize=9;" vertex="1" parent="1">
          <mxGeometry x="120" y="270" width="280" height="330" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-7" value="Private Subnet&#xa;10.0.2.0/24" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F1F8E9;strokeColor=#689F38;verticalAlign=top;fontSize=11;fontStyle=1;arcSize=9;" vertex="1" parent="1">
          <mxGeometry x="420" y="270" width="280" height="180" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-8" value="Linux VM (Ubuntu)&#xa;vm-webserver" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="510" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-9" value="Public IP&#xa;pip-web-vm" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FFECB3;strokeColor=#F57C00;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="145" y="340" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-10" value="System-Assigned&#xa;Managed Identity" style="shape=umlActor;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="270" y="315" width="40" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-11" value="Streamlit&#xa;Web Application" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fillColor=#F8BBD9;strokeColor=#AD1457;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="250" y="425" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-12" value="Network Security Group&#xa;Firewall Rules" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#D32F2F;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="151" y="417" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-13" value="Private Endpoint&#xa;Key Vault" style="ellipse;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="440" y="310" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-14" value="Private Endpoint&#xa;OpenAI" style="ellipse;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="440" y="380" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-15" value="Private DNS Zones" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;verticalAlign=top;fontSize=11;fontStyle=1;arcSize=14;" vertex="1" parent="1">
          <mxGeometry x="414" y="470" width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-16" value="privatelink.vaultcore.azure.net" style="shape=note;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="574" y="520" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-17" value="privatelink.openai.azure.com" style="shape=note;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="434" y="520" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-18" value="Backend Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;verticalAlign=top;fontSize=12;fontStyle=1;arcSize=10;" vertex="1" parent="1">
          <mxGeometry x="750" y="240" width="310" height="380" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-19" value="Azure Key Vault&#xa;kv-{unique}" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#E1BEE7;strokeColor=#7B1FA2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="280" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-20" value="Secret:&#xa;OpenAI-API-Key" style="shape=note;whiteSpace=wrap;html=1;fillColor=#F8BBD9;strokeColor=#AD1457;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="900" y="300" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-21" value="Azure OpenAI Service&#xa;oai-{unique}" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fillColor=#C5E1A5;strokeColor=#558B2F;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="420" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-22" value="GPT-3.5 Turbo&#xa;Deployment" style="ellipse;whiteSpace=wrap;html=1;fillColor=#AED581;strokeColor=#558B2F;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="920" y="440" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-23" value="Security Features:&#xa;• No public access to backend services&#xa;• Managed Identity (no passwords)&#xa;• Private endpoints only&#xa;• Network segmentation&#xa;• Firewall rules (NSG)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#388E3C;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="640" width="250" height="100" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-24" value="Data Flow:&#xa;1. User → Internet → VM&#xa;2. VM → Private Endpoint → Key Vault&#xa;3. VM → Private Endpoint → OpenAI&#xa;4. All backend traffic stays private" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="640" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-25" value="HTTPS Request" style="endArrow=classic;html=1;rounded=0;strokeColor=#D32F2F;strokeWidth=2;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-3" target="tgQPIWyc8VGFv9XbimAp-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="120" as="sourcePoint" />
            <mxPoint x="270" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-26" value="Port 80/443" style="endArrow=classic;html=1;rounded=0;strokeColor=#D32F2F;strokeWidth=2;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-2" target="tgQPIWyc8VGFv9XbimAp-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="160" as="sourcePoint" />
            <mxPoint x="300" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-27" value="Allow HTTP/SSH" style="endArrow=classic;html=1;rounded=0;strokeColor=#388E3C;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-12" target="tgQPIWyc8VGFv9XbimAp-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="400" as="sourcePoint" />
            <mxPoint x="240" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-28" value="Uses Identity" style="endArrow=classic;html=1;rounded=0;strokeColor=#1976D2;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-11" target="tgQPIWyc8VGFv9XbimAp-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="400" as="sourcePoint" />
            <mxPoint x="180" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-29" value="Get Secrets&#xa;(Private Network)" style="endArrow=classic;html=1;rounded=0;strokeColor=#7B1FA2;strokeWidth=2;dashed=1;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-10" target="tgQPIWyc8VGFv9XbimAp-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="180" y="400" as="sourcePoint" />
            <mxPoint x="440" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-30" value="AI Requests&#xa;(Private Network)" style="endArrow=classic;html=1;rounded=0;strokeColor=#4CAF50;strokeWidth=2;dashed=1;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-11" target="tgQPIWyc8VGFv9XbimAp-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="405" as="sourcePoint" />
            <mxPoint x="440" y="405" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-31" value="Private Link" style="endArrow=classic;html=1;rounded=0;strokeColor=#7B1FA2;strokeWidth=2;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-13" target="tgQPIWyc8VGFv9XbimAp-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="335" as="sourcePoint" />
            <mxPoint x="780" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-32" value="Private Link" style="endArrow=classic;html=1;rounded=0;strokeColor=#4CAF50;strokeWidth=2;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-14" target="tgQPIWyc8VGFv9XbimAp-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="405" as="sourcePoint" />
            <mxPoint x="780" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-33" value="DNS Resolution" style="endArrow=classic;html=1;rounded=0;strokeColor=#00ACC1;dashed=1;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-16" target="tgQPIWyc8VGFv9XbimAp-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="500" as="sourcePoint" />
            <mxPoint x="440" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-34" value="DNS Resolution" style="endArrow=classic;html=1;rounded=0;strokeColor=#00ACC1;dashed=1;fontSize=10;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-17" target="tgQPIWyc8VGFv9XbimAp-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="520" as="sourcePoint" />
            <mxPoint x="440" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-35" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#7B1FA2;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-19" target="tgQPIWyc8VGFv9XbimAp-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="880" y="320" as="sourcePoint" />
            <mxPoint x="900" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tgQPIWyc8VGFv9XbimAp-36" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#558B2F;" edge="1" parent="1" source="tgQPIWyc8VGFv9XbimAp-21" target="tgQPIWyc8VGFv9XbimAp-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="460" as="sourcePoint" />
            <mxPoint x="920" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
